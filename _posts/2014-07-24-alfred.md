---
layout: post
title: "alfred"
date: 2014-07-24
permalink: /alfred.html
---

# ワークフローのスクリプトで日本語を扱う

ワークフローで Perl スクリプトを書いて ``` `echo "日本語" | pbcopy` ``` したら文字化けした。
どうも UTF-8 文字列を CP932 として解釈したものがクリップボードに入るらしい。
Encode モジュールを使っていろいろやってみたが解決しなかった。
ワークフロー内では `LANG=C` がセットされているのが原因だったっぽいので、
ワークフローをシェルスクリプトで書いて `LANG=ja-JP.UTF-8 ./script.pl` としてやったら解決した。
